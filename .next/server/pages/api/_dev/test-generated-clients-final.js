(()=>{var e={};e.id=3002,e.ids=[3002],e.modules={3480:(e,t,s)=>{"use strict";e.exports=s(5600)},3873:e=>{"use strict";e.exports=require("path")},3876:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>d,default:()=>l,routeModule:()=>_});var r={};s.r(r),s.d(r,{default:()=>u});var n=s(3480),i=s(8667),a=s(6435),o=s(3873),c=s.n(o);async function u(e,t){try{let e={tested_clients:[],successful:0,failed:0,debug_info:{}},r=["users","announcements","classes"];for(let t of r)try{let r,n=c().resolve(process.cwd(),"lib","supabase","_generated","clients",`${t}.ts`);e.debug_info[t]={attempted_path:n};try{r=await s(4256)(`./${t}`)}catch(e){try{r=await s(4256)(`./${t}`)}catch(t){throw Error(`Both relative and absolute imports failed: ${e.message}`)}}if(r[`${t}Client`]){let s=r[`${t}Client`](),{data:n,error:i}=await s.select("*").limit(1);e.tested_clients.push({table:t,status:i?"error":"success",data_count:n?.length||0,error:i?.message,client_exists:!0,exported_functions:Object.keys(r).filter(e=>"function"==typeof r[e])}),i?e.failed++:e.successful++}else e.tested_clients.push({table:t,status:"error",error:"Client function not found",client_exists:!1,available_exports:Object.keys(r)}),e.failed++}catch(s){e.tested_clients.push({table:t,status:"error",error:`Import failed: ${s.message}`,client_exists:!1}),e.failed++}try{let{createClient:t}=await Promise.resolve().then(s.t.bind(s,3939,23)),r=t(process.env.SUPABASE_URL,process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}}),{data:n,error:i}=await r.from("announcements").select("*").limit(1);e.direct_test={status:i?"error":"success",data_count:n?.length||0,error:i?.message,message:"Direct client creation test"}}catch(t){e.direct_test={status:"error",error:t.message}}return t.status(200).json({message:"Generated clients test completed",timestamp:new Date().toISOString(),summary:{total_tested:r.length,successful:e.successful,failed:e.failed,success_rate:`${Math.round(e.successful/r.length*100)}%`,direct_client_working:e.direct_test?.status==="success"},results:e})}catch(s){console.error("Generated clients test error:",s);let e=s instanceof Error?s.message:"Unknown error occurred";return t.status(500).json({error:e})}}let l=(0,a.M)(r,"default"),d=(0,a.M)(r,"config"),_=new n.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/_dev/test-generated-clients-final",pathname:"/api/_dev/test-generated-clients-final",bundlePath:"",filename:""},userland:r})},3939:e=>{"use strict";e.exports=require("@supabase/supabase-js")},4256:(e,t,s)=>{var r={"./":[9812,9812],"./announcements":[8532,8532],"./announcements.ts":[8532,8532],"./attendance":[949,949],"./attendance.ts":[949,949],"./attendance_records":[5086,5086],"./attendance_records.ts":[5086,5086],"./children":[3761,3761],"./children.ts":[3761,3761],"./class_assignments":[4799,4799],"./class_assignments.ts":[4799,4799],"./classes":[9008,9008],"./classes.ts":[9008,9008],"./config_fields":[5306,5306],"./config_fields.ts":[5306,5306],"./curriculum":[5641,5641],"./curriculum.ts":[5641,5641],"./curriculum_assignments":[2618,2618],"./curriculum_assignments.ts":[2618,2618],"./curriculum_executions":[4297,4297],"./curriculum_executions.ts":[4297,4297],"./curriculum_imports":[7530,7530],"./curriculum_imports.ts":[7530,7530],"./curriculum_items":[1456,1456],"./curriculum_items.ts":[1456,1456],"./curriculum_templates":[7709,7709],"./curriculum_templates.ts":[7709,7709],"./daily_logs":[7315,7315],"./daily_logs.ts":[7315,7315],"./events":[9023,9023],"./events.ts":[9023,9023],"./index":[9812,9812],"./index.ts":[9812,9812],"./message_threads":[7527,7527],"./message_threads.ts":[7527,7527],"./messages":[732,732],"./messages.ts":[732,732],"./milestones":[2993,2993],"./milestones.ts":[2993,2993],"./notifications":[7540,7540],"./notifications.ts":[7540,7540],"./parent_child_relationships":[7431,7431],"./parent_child_relationships.ts":[7431,7431],"./photo_albums":[1127,1127],"./photo_albums.ts":[1127,1127],"./photo_tags":[1064,1064],"./photo_tags.ts":[1064,1064],"./photos":[4587,4587],"./photos.ts":[4587,4587],"./reports":[9101,9101],"./reports.ts":[9101,9101],"./student_progress":[7257,7257],"./student_progress.ts":[7257,7257],"./system_logs":[1047,1047],"./system_logs.ts":[1047,1047],"./time_slots":[2901,2901],"./time_slots.ts":[2901,2901],"./users":[5040,5040],"./users.ts":[5040,5040],"./worksheets":[8235,8235],"./worksheets.ts":[8235,8235]};function n(e){if(!s.o(r,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],n=t[0];return s.e(t[1]).then(()=>s(n))}n.keys=()=>Object.keys(r),n.id=4256,e.exports=n},5600:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},8667:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}});var s=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var s=t(t.s=3876);module.exports=s})();